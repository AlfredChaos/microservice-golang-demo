server:
  name: book-service
  host: 0.0.0.0
  port: 9002

log:
  level: debug  # 日志级别: debug, info, warn, error
  format: console  # 格式: console (人眼友好), json (生产环境)
  output_paths:  # 输出路径，支持多个，可同时输出到文件和stdout
    - stdout
    # - /var/log/user-service.log  # 取消注释以同时输出到文件
  enable_console_writer: true  # 是否启用 ConsoleWriter (彩色、格式化输出，仅对stdout生效)

mongodb:
  uri: mongodb://admin:123456@localhost:27017
  database: demo
  max_pool_size: 100
  min_pool_size: 10
  connect_timeout: 10
  log_level: info  # 日志级别: silent, error, warn, info
  slow_query_threshold: 200  # 慢查询阈值(毫秒)
  enable_detailed_log: true  # 是否记录详细命令（生产环境建议false）

redis:
  addr: localhost:6379
  password: "123456"
  db: 0
  pool_size: 10
  min_idle_conns: 5
  dial_timeout: 5
  read_timeout: 3
  write_timeout: 3
  log_level: warn  # 日志级别: silent, error, warn, info
  slow_op_threshold: 100  # 慢操作阈值(毫秒)
  enable_detailed_log: false  # 是否记录详细命令（生产环境建议false）

# PostgreSQL配置（用于存储用户数据）
database:
  enabled: true
  driver: postgres
  host: localhost
  port: 5432
  username: admin
  password: 123456
  database: testdb
  ssl_mode: disable  # SSL模式: disable, require, verify-ca, verify-full
  max_open_conns: 100
  max_idle_conns: 10
  conn_max_lifetime: 3600  # 连接最大生命周期(秒)
  conn_max_idle_time: 600  # 连接最大空闲时间(秒)
  log_level: info  # 日志级别: silent, error, warn, info
  slow_query_threshold: 200  # 慢查询阈值(毫秒)，超过此值将被记录为警告
  enable_detailed_log: true  # 是否记录完整SQL（生产环境建议false）

# RabbitMQ配置（用于发布异步事件）
# 使用 Topic Exchange 模式，所有微服务共用 microservice_events 交换机
rabbitmq:
  enabled: true
  url: amqp://admin:123456@localhost:5672/
  exchange: microservice_events
  exchange_type: topic
  queue: ""
  routing_key: ""  # 发布时动态指定routing key
  durable: true  # 持久化交换机
  auto_delete: false

# gRPC客户端配置（调用其他服务）
grpc_clients:
  services: []
